---
title: "Flow beim Laufen (intraindividell)"
author: "Simon Bogutzky"
date: "12. Dezember 2015"
output: html_document
---

```{r set-directories, echo = FALSE}

# Remove all variables
rm(list = ls(all = T)) 

# Set root data directory path
if(file.exists("/Volumes/flow/Documents/archiv/daten/2015/flow-gehen-und-laufen"))
  root.data.directory.path <- "/Volumes/flow/Documents/archiv/daten/2015/flow-gehen-und-laufen/"

# Set activity directory
activity.directory <- "walking/" 

# Set user directory
user.directory <- "grueter-barbara/"

source("code-snippets/functions.R")

require(flow)
```

```{r load-data, echo=FALSE}

# Load FSS features
fss.features <- read.csv(paste(root.data.directory.path, "features/", activity.directory, user.directory, "fss-features.csv", sep = ""))

# Load HRV features
source("code-snippets/load-hrv-features.R")

# Load JC features
source("code-snippets/load-jc-features.R")

# Load CLS features
source("code-snippets/load-cls-features.R") 

# Create data frame
n.row <- nrow(fss.features)
e.seq <- seq(3, n.row * 3, 3)
data.1 <- data.frame(flow = fss.features$flow, absorption = fss.features$absorption, mean.hr = hrv.features$meanhr[e.seq], rmssd = hrv.features$rmssd[e.seq], mean.cycle.interval = jc.features$mean.cycle.interval[e.seq], mean.jerk.cost = jc.features$mean.jerk.cost[e.seq], coh = cls.features$mean.nsei[e.seq])
data.1$date <- factor(format(as.POSIXct(fss.features$activity.start / 1000, origin = "1970-01-01"), "%Y-%m-%d"))
data.1$measurement <- factor(fss.features$measurement, levels = c(1, 2, 3, 4), labels = c("15'", "30'", "45'", "60'"))
```



